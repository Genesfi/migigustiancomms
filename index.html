<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Store</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Welcome to My Store</h1>
        <p>Click on a product to view more details!</p>
    </header>

    <!-- Tempat Produk akan ditampilkan -->
    <section id="products-list" class="products">
        <!-- Produk akan ditambahkan oleh JavaScript -->
    </section>

    <section>
        <h3>Add New Product</h3>
        <form id="add-product-form">
            <input type="text" id="product-name" placeholder="Product Name" required>
            <input type="text" id="product-description" placeholder="Product Description" required>
            <input type="text" id="product-image" placeholder="Image URL" required>
            <input type="text" id="product-detail" placeholder="Detail Page URL" required>
            <button type="submit">Add Product</button>
        </form>
    </section>

    <script>
        // Data produk awal
        const products = JSON.parse(localStorage.getItem('products')) || [
            {
                name: "Product 1",
                description: "This is a great product.",
                imageUrl: "product1.jpg",
                detailPage: "product1.html"
            },
            {
                name: "Product 2",
                description: "This is another great product.",
                imageUrl: "product2.jpg",
                detailPage: "product2.html"
            }
        ];

        // Menampilkan produk di halaman
        const productList = document.getElementById("products-list");

        function displayProducts() {
            productList.innerHTML = '';  // Clear list sebelum menampilkan produk baru
            products.forEach(product => {
                const productDiv = document.createElement("div");
                productDiv.classList.add("product");

                productDiv.innerHTML = `
                    <h2>${product.name}</h2>
                    <p>${product.description}</p>
                    <img src="${product.imageUrl}" alt="${product.name}">
                    <a href="${product.detailPage}">View Details</a>
                    <button class="buy-btn">Buy Now</button>
                `;
                productList.appendChild(productDiv);
            });
        }

        // Fungsi untuk menambah produk
        const addProductForm = document.getElementById('add-product-form');
        addProductForm.addEventListener('submit', function(event) {
            event.preventDefault();  // Mencegah form submit default

            // Ambil nilai dari input form
            const productName = document.getElementById('product-name').value;
            const productDescription = document.getElementById('product-description').value;
            const productImage = document.getElementById('product-image').value;
            const productDetail = document.getElementById('product-detail').value;

            // Tambah produk baru ke array produk
            const newProduct = {
                name: productName,
                description: productDescription,
                imageUrl: productImage,
                detailPage: productDetail
            };

            products.push(newProduct);  // Tambahkan produk ke array

            // Simpan produk ke localStorage agar tetap ada walau halaman dimuat ulang
            localStorage.setItem('products', JSON.stringify(products));

            displayProducts();  // Tampilkan produk yang sudah diperbarui

            // Reset form
            addProductForm.reset();
        });

        // Panggil fungsi untuk pertama kali menampilkan produk
        displayProducts();
    </script>
</body>
</html>
